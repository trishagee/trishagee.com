{
 "disqus_url" : "http://trishagee.github.io/post/christmas_decorations_teach_me_a_lesson_about_troubleshooting/",
 "disqus_title" : "Christmas decorations teach me a lesson about troubleshooting",
 "Title": "Christmas decorations teach me a lesson about troubleshooting",
 "Pubdate": "2012-01-17",
 "Slug": "christmas_decorations_teach_me_a_lesson_about_troubleshooting",
 "Section": "post"
}
And now, after an absence of several weeks, you get to see how long it takes me to write some of these posts.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-_IL9JCpG-YI/TxUujcWyp3I/AAAAAAAAIvg/uMQCtOKGPcs/s1600/DSC_0037.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="267" src="http://2.bp.blogspot.com/-_IL9JCpG-YI/TxUujcWyp3I/AAAAAAAAIvg/uMQCtOKGPcs/s400/DSC_0037.JPG" width="400" /></a></div><br />I was putting up the Christmas decorations one Saturday when my worst fear was realised<sup>1</sup> - one of my three strings of lights was not working.<br /><br />The first two went up fine. &nbsp;The third lit up when I plugged it in, and in less than a second went out. &nbsp;Curses. &nbsp;This is not what I wanted, this was supposed to be a short exercise in making my tiny little flat look festive.<br /><br />So I set about the tedious task of starting from the end closest to the plug and replacing every bulb, one by one, with a spare one to see if it magically lit up again. &nbsp;When it doesn't, you take the spare back out and replace it with the original bulb. &nbsp;I remember my parents going through this ritual every Christmas, the tediousness of this activity is more memorable than the fleeting joy of shinies.<br /><br />While I was doing this, my mind was back on the job I'd been doing at work the previous week - battling an Internet Explorer 7 performance problem. &nbsp;We have automated performance tests which give us an indication of the load time for our application in Chrome and IE, and some time in the previous couple of weeks our IE performance had significantly degraded in the development code. &nbsp;Due to a number of too-boring-to-explain-here circumstances, the last known good revision was four days and nearly 250 revisions earlier than the first revision that showed the performance problem.<br /><br />Since we couldn't see anything to indicate it was an environmental problem, the logical next step was to pinpoint the revision which caused the problem, so we could either fix it or get performance gains from somewhere else in the system.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-gnC5YOnp9-8/TxUy6Y0I72I/AAAAAAAAIvo/bDlg30_CMvA/s1600/revisions1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="88" src="http://3.bp.blogspot.com/-gnC5YOnp9-8/TxUy6Y0I72I/AAAAAAAAIvo/bDlg30_CMvA/s320/revisions1.png" width="320" /></a></div><br />The most obvious way to do this, given there were no obvious suspects, is with a binary search of the revisions. &nbsp;Our last known good revision was 081, our first poor performing one was 240. &nbsp;So the thing to do is to check revision 160, see if it falls on the poor or good performance side.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-NyxMETVmxrM/TxUy6uuKWuI/AAAAAAAAIvs/HG9HdBMMZfE/s1600/revisions2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="88" src="http://2.bp.blogspot.com/-NyxMETVmxrM/TxUy6uuKWuI/AAAAAAAAIvs/HG9HdBMMZfE/s320/revisions2.png" width="320" /></a></div><br />If 160 proves to be a poor performer, check revision 120....<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-LEjXqVBWAxM/TxUy7Ipt3UI/AAAAAAAAIv4/U4gq2gIrgzs/s1600/revisions3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="88" src="http://4.bp.blogspot.com/-LEjXqVBWAxM/TxUy7Ipt3UI/AAAAAAAAIv4/U4gq2gIrgzs/s320/revisions3.png" width="320" /></a></div><br />...if 160 is fine, test revision 200...<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-a4pDFa23AS8/TxUy8AZZL6I/AAAAAAAAIv8/YGX5b314ZPA/s1600/revisions4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="88" src="http://3.bp.blogspot.com/-a4pDFa23AS8/TxUy8AZZL6I/AAAAAAAAIv8/YGX5b314ZPA/s320/revisions4.png" width="320" /></a></div><br />...and keep splitting the revisions by half until you find the suspect.<br /><br />So of course that's what I want to do with my stupid Christmas lights. &nbsp;I do not want to sequentially check each light bulb, that has a worst-case number-of-bulbs-tried = n, where n is the number of bulbs (probably a couple of hundred, although it felt like several thousand). &nbsp;So, in computer speak, O(n). &nbsp;The binary search algorithm is O(log n). &nbsp;At university, this Big Oh had no context for me. &nbsp;But when you've taken 10 minutes to get a quarter of the way through your Christmas lights, and you diagnosed your IE performance problems... well, actually it took days. &nbsp;But the point is, a binary search for the missing bulb would definitely have been a Good Thing.<br /><br />I know you're dying to know if I tracked down the problem in Internet Explorer - I did. &nbsp;What's the worst case when you're doing a binary search? &nbsp;It's when the thing you're looking for is veeeery close to either your start point or your end point. <br /><br />The revision number I was after was number 237. &nbsp;Sigh.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-TKU7fyVqnxs/TxUzePYv0eI/AAAAAAAAIwI/ewwyYBPE8no/s1600/revisions5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="88" src="http://3.bp.blogspot.com/-TKU7fyVqnxs/TxUzePYv0eI/AAAAAAAAIwI/ewwyYBPE8no/s320/revisions5.png" width="320" /></a></div><br />And my Christmas tree lights? &nbsp;Well, through the boredom I remembered that modern lights are in sections, so they have a sort of built-in binary search - well, limited segments will go dark if a single bulb is out - which allows you to narrow down your problem area. &nbsp;Since the whole string was out, I figured something else was probably wrong.<br /><br />Turned out the plug had come out of the socket.<br /><br />So:<br /><b>Lesson 1</b>: Theoretical computer science does have a place when you care about how long something takes. &nbsp;When it's you feeling the pain, you'll do anything to make it stop.<br /><br /><b>Lesson 2</b>: When diagnosing a problem you will always biased towards what you think it is, in the face of actual evidence. &nbsp;I was afraid I would have to search the whole set of lights for a blown bulb, so that's the problem I was looking for when the lights failed. &nbsp;In actual fact it was a problem with a much simpler solution.<br /><br /><br /><br /><sup>1</sup> - OK, "worst fear" in this very limited context only - it's not like I lie awake at night in July afraid that one of the bulbs on my Christmas lights has blown.
